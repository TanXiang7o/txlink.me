---
title: RocketMQ vs Kafka
date: '2024-09-01'
lastmod: '2024-09-01'
tags: ["RocketMQ", "Kafka", "消息队列", "大数据", "线上业务"]
draft: false
summary: '探索RocketMQ和Kafka之间的差异，找到适合在线业务和大数据应用的最佳消息队列。'
authors: ['default']
---

# RocketMQ vs Kafka

---

## RocketMQ

RocketMQ是阿里巴巴在2012年开源的消息队列产品，后来捐赠给Apache软件基金会，2017年正式毕业，称为Apache的顶级项目。RocketMQ的官网地址：https://rocketmq.apache.org/。

RocketMQ使用Java语言编写，它有非常活跃的中文社区，你遇到的大多数问题都可以找到中文的答案。

RocketMQ对在线业务的响应时延做了大量优化，大多数情况下可以做到毫秒级响应，如果我们的应用场景中时延响应非常重要，那么可以选择RocketMQ。

RocketMQ的性能要比RabbitMQ高一个数量级，每秒钟可以处理几十万条消息。

RocketMQ的一个劣势是它在国外没有那么流行，与周边生态系统集成和兼容稍微差一些。

官网上将RocketMQ和Kafka做了对比，RocketMQ除了终端还支持**dashboard**观测核心指标，kafka只支持终端。且**RocketMQ支持消息轨迹、消息优先级、广播消息、服务端触发的重试、延迟消息、JMS、OpenMessaging协议等，而kafka不支持**

## Kafka

Kafka最早由LinkedIn开发，目前也是Apache的顶级项目，官网地址：https://kafka.apache.org/

Kafka目前已经是一个非常成熟的消息队列产品，无论是在数据可靠性、稳定性还是功能特性等方面都可以满足绝大多数场景的需求。

**Kafka使用Scala和Java语言开发，设计上大量使用了批量和异步的思想**，这样可以让Kafka做到高性能，Kafka的性能，特别是异步收发的性能，是这三款消息队列产品中最好的。它在性能上和RocketMQ没有数量级上的差别，每秒钟可以处理几十万条消息。

**Kafka与周边生态系统的兼容性是最好的没有之一，尤其是在大数据和流计算领域，几乎所有的相关开源软件都会优先选择支持Kafka。**

Kafka存在的问题是同步收发消息的响应时延比较高，当客户端发送一条消息时，Kafka并不会立即发送出去，而是要等一会儿攒在一批再统一发送，在它的Broker中很多地方还存在“**攒一波再处理**”的设计，当我们的业务场景中每秒钟的消息数量没有那么多时，Kafka的时延反而会比较高，因此，**Kafka不太适合在线业务场景**。

### 参考：

https://www.cnblogs.com/wing011203/p/17182477.html

https://rocketmq.apache.org/zh/docs/

---

## 总结

- **RocketMQ**
  - 优势：低延迟、高实时性、多样的消息模型支持、适合国内生态
  - 劣势：国际化支持较弱，与部分国外工具的集成不如 Kafka 便捷
- **Kafka**
  - 优势：高吞吐量、强大的生态系统、全球范围的社区支持
  - 劣势：在低并发场景下，消息延迟可能较高

### **FAQs**

#### **1：RocketMQ 和 Kafka 适用于哪些不同的场景？**

RocketMQ 更适用于需要低延迟、高实时性的在线业务场景，例如金融交易、支付系统等。而 Kafka 则在大数据处理、实时流数据分析等场景中更为合适。

**2：在性能方面，RocketMQ 和 Kafka 谁更优？**

RocketMQ 在延迟控制方面表现更好，而 Kafka 在吞吐量和处理海量数据方面有优势。因此，选择应依据具体的业务需求。

**3：如何评估一个项目是使用 RocketMQ 还是 Kafka？**

评估时需要考虑项目的实时性要求、消息量大小、与现有系统的兼容性等因素。如果项目需要低延迟和金融级别的稳定性，推荐 RocketMQ；如果项目涉及大数据处理，推荐 Kafka。

**4：两者的社区支持情况如何？**

Kafka 拥有全球范围的社区支持，开发者资源丰富。RocketMQ 在国内社区较为活跃，对于国内用户的支持更加本地化和及时。

**5：Kafka 的“攒一波再处理”机制对业务的影响大吗？**

在低并发场景下，Kafka 的“攒一波再处理”机制可能会导致消息的延迟增加，不适合对实时性要求高的业务。但在高并发、大数据场景中，这种机制有助于提高系统的整体吞吐量。波再处理”机制可能导致消息延迟较高，这对需要实时响应的业务可能产生一定影响。

